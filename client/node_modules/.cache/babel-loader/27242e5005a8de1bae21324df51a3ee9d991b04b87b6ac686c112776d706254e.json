{"ast":null,"code":"/* global AtomPaynetz */\n\nexport function loadScript(src) {\n  return new Promise(resolve => {\n    const script = document.createElement('script');\n    script.src = src;\n    script.onload = () => {\n      resolve(true);\n    };\n    script.onerror = () => {\n      resolve(false);\n    };\n    document.body.appendChild(script);\n  });\n}\nexport function openPay(data) {\n  const options = {\n    \"atomTokenId\": data.atomTokenId,\n    \"merchId\": data.merchId,\n    \"custEmail\": data.custEmail,\n    \"custMobile\": data.custMobile,\n    \"returnUrl\": data.returnUrl\n  };\n  new AtomPaynetz(options, 'uat');\n}\nexport async function initiatePayment(paymentData, paymentAction) {\n  try {\n    const data = await paymentAction(paymentData);\n    await loadScript('https://psa.atomtech.in/staticdata/ots/js/atomcheckout.js?v=' + data.atomTokenId);\n    openPay(data);\n  } catch (error) {\n    console.error('Payment initiation failed:', error);\n    throw error;\n  }\n}","map":{"version":3,"names":["loadScript","src","Promise","resolve","script","document","createElement","onload","onerror","body","appendChild","openPay","data","options","atomTokenId","merchId","custEmail","custMobile","returnUrl","AtomPaynetz","initiatePayment","paymentData","paymentAction","error","console"],"sources":["/home/jhasaab/Desktop/current/TedX-Backend/client/src/utils/payment.js"],"sourcesContent":["/* global AtomPaynetz */\n\n\nexport function loadScript(src) {\n    return new Promise((resolve) => {\n        const script = document.createElement('script')\n        script.src = src\n        script.onload = () => {\n            resolve(true)\n        }\n        script.onerror = () => {\n            resolve(false)\n        }\n        document.body.appendChild(script)\n    })\n}\n\nexport function openPay(data) {\n    const options = {\n        \"atomTokenId\": data.atomTokenId,\n        \"merchId\": data.merchId,\n        \"custEmail\": data.custEmail,\n        \"custMobile\": data.custMobile,\n        \"returnUrl\": data.returnUrl,\n    }\n    new AtomPaynetz(options, 'uat')\n}\n\nexport async function initiatePayment(paymentData, paymentAction) {\n    try {\n        const data = await paymentAction(paymentData)\n        await loadScript('https://psa.atomtech.in/staticdata/ots/js/atomcheckout.js?v=' + data.atomTokenId)\n        openPay(data)\n    } catch (error) {\n        console.error('Payment initiation failed:', error)\n        throw error\n    }\n}"],"mappings":"AAAA;;AAGA,OAAO,SAASA,UAAUA,CAACC,GAAG,EAAE;EAC5B,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;IAC5B,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC/CF,MAAM,CAACH,GAAG,GAAGA,GAAG;IAChBG,MAAM,CAACG,MAAM,GAAG,MAAM;MAClBJ,OAAO,CAAC,IAAI,CAAC;IACjB,CAAC;IACDC,MAAM,CAACI,OAAO,GAAG,MAAM;MACnBL,OAAO,CAAC,KAAK,CAAC;IAClB,CAAC;IACDE,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,MAAM,CAAC;EACrC,CAAC,CAAC;AACN;AAEA,OAAO,SAASO,OAAOA,CAACC,IAAI,EAAE;EAC1B,MAAMC,OAAO,GAAG;IACZ,aAAa,EAAED,IAAI,CAACE,WAAW;IAC/B,SAAS,EAAEF,IAAI,CAACG,OAAO;IACvB,WAAW,EAAEH,IAAI,CAACI,SAAS;IAC3B,YAAY,EAAEJ,IAAI,CAACK,UAAU;IAC7B,WAAW,EAAEL,IAAI,CAACM;EACtB,CAAC;EACD,IAAIC,WAAW,CAACN,OAAO,EAAE,KAAK,CAAC;AACnC;AAEA,OAAO,eAAeO,eAAeA,CAACC,WAAW,EAAEC,aAAa,EAAE;EAC9D,IAAI;IACA,MAAMV,IAAI,GAAG,MAAMU,aAAa,CAACD,WAAW,CAAC;IAC7C,MAAMrB,UAAU,CAAC,8DAA8D,GAAGY,IAAI,CAACE,WAAW,CAAC;IACnGH,OAAO,CAACC,IAAI,CAAC;EACjB,CAAC,CAAC,OAAOW,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IAClD,MAAMA,KAAK;EACf;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}